<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Patas e Pelos - Cadastro de pessoas</title>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.1.8/vue.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" />
    <script type="text/javascript" src="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.15.2/axios.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vue@2.6.10/dist/vue.js"></script>
    <script type="text/javascript" src="https://unpkg.com/vuelidate@0.7.4/dist/vuelidate.min.js"></script>
    <script type="text/javascript" src="https://unpkg.com/vuelidate@0.7.4/dist/validators.min.js"></script>
    <script type="text/javascript" src="../vue.js"></script>


</head>

<body>
    <div class="container-fluid">
        <h1>Patas e Pelos</h1>
        <div class="col-xs-2">
            <ul class="nav nav-pills nav-stacked">
                <li><a data-toggle="pill" href="#menu_pessoa">Colaboradores</a></li>
                <li><a data-toggle="pill" href="#menu_funcionario">Funcionarios</a></li>
                <li><a data-toggle="pill" href="#menu_cliente">Clientes</a></li>
            </ul>
        </div>
        <div class="col-xs-6">
            <div class="tab-content" id="app">
                <div id="menu_pessoa" class="tab-pane fade">
                    <h2>Pessoas</h2>
                    <!--TODO: arrumar titulo  -->
                    <table id="tabela_pessoa" class="table table-striped">
                        <thead>Nossos funcionários</thead>
                        <tr>
                            <th scope="col">Tipo</th>
                            <th scope="col">CPF</th>
                            <th scope="col">Nome</th>
                            <th scope="col">RG</th>
                            <th scope="col">Data de nascimento</th>
                            <th scope="col">E-mail</th>
                            <th scope="col">Endereço</th>
                            <th scope="col">CEP</th>
                            <th scope="col">Complemento</th>
                            <th scope="col">Numero de celular</th>
                            <th scope="col">Data de cadastro</th>
                            <th scope="col">Editar</th>
                            <th scope="col">Remover</th>
                        </tr>
                        <tbody>
                            <tr v-for="(p, indice) in pessoas">
                                <td>{{p.tipo}}</td>
                                <td>{{p.cpf}}</td>
                                <td>{{p.nome}}</td>
                                <td>{{p.rg}}</td>
                                <td>{{p.data_nascimento}}</td>
                                <td>{{p.email}}</td>
                                <td>{{p.endereco}}</td>
                                <td>{{p.cep}}</td>
                                <td>{{p.complemento}}</td>
                                <td>{{p.numero_celular}}</td>
                                <td>{{p.data_cadastro}}</td>
                                <td><button v-on:click="edita_pessoa(indice)" class="btn" type="button">Editar</button>
                                </td>
                                <td><button v-on:click="remove_pessoa(indice, p.id)" class="btn"
                                        type="button">Remover</button></td>
                            </tr>
                        </tbody>
                    </table>

                    <div id="formulario_pessoa">
                        <h3>Formulário para cadastrar e alterar pessoa</h3>
                        <div>
                            <div class="error" v-if="!$v.form_pessoa.tipo.required">
                                Este campo é obrigatório
                            </div>
                            <div class="form-group">
                                <input type="radio" v-model="form_pessoa.tipo" :class="status($v.form_pessoa.tipo)"
                                    @blur="$v.form_pessoa.tipo.$touch()" id="cliente" name="pes_input_tipo"
                                    value="cliente" v-on:click="mostrarInput()">
                                <label for="cliente">Cliente</label><br>

                                <input type="radio" v-model="form_pessoa.tipo" :class="status($v.form_pessoa.tipo)"
                                    @blur="$v.form_pessoa.tipo.$touch()" id="funcionario" name="pes_input_tipo"
                                    value="funcionario" v-on:click="esconderInput()">
                                <label for="funcionario">Funcionário</label><br>
                            </div>
                        </div>
                        <div class="error" v-if="!$v.form_pessoa.nome.required">Este campo é required </div>
                        <div class="form-group">
                            <label for="pes_input_nome">Nome:</label>
                            <input type="text" class="form-control" v-model="$v.form_pessoa.nome.$model"
                                :class="status($v.form_pessoa.nome)" @blur="markAsDirty($v.form_pessoa.nome)"
                                id="pes_input_nome">
                        </div>
                        <div class="error" v-if="!$v.form_pessoa.rg.required">Este campo é required </div>
                        <div class="form-group">
                            <label for="pes_input_rg">RG:</label>
                            <input type="number" class="form-control" v-model="$v.form_pessoa.rg.$model"
                                :class="status($v.form_pessoa.rg)" @blur="markAsDirty($v.form_pessoa.rg)"
                                id="pes_input_rg">
                        </div>

                        <div class="error" v-if="!$v.form_pessoa.cpf.required">Este campo é required </div>
                        <div class="form-group">
                            <label for="pes_input_cpf">CPF:</label>
                            <input type="number" class="form-control" v-model="$v.form_pessoa.cpf.$model"
                                :class="status($v.form_pessoa.cpf)" @blur="markAsDirty($v.form_pessoa.cpf)"
                                id="pes_input_cpf">
                        </div>

                        <div class="error" v-if="!$v.form_pessoa.data_nascimento.required">Este campo é required </div>
                        <div class="form-group">
                            <label for="pes_input_data_nascimento">Data de nascimento:</label>
                            <input type="date" class="form-control" v-model="$v.form_pessoa.data_nascimento.$model"
                                :class="status($v.form_pessoa.data_nascimento)"
                                @blur="markAsDirty($v.form_pessoa.data_nascimento)" id="pes_input_data_nascimento">
                        </div>
                        <div class="form-group">
                            <label for="pes_input_email">Email:</label>
                            <input type="email" class="form-control" v-model="$v.form_pessoa.email.$model"
                                :class="status($v.form_pessoa.email)" id="pes_input_email">
                        </div>
                        <div class="form-group">
                            <label for="pes_input_endereco">Endereço:</label>
                            <input type="text" class="form-control" v-model="$v.form_pessoa.endereco.$model"
                                :class="status($v.form_pessoa.endereco)" id="pes_input_endereco">
                        </div>
                        <div class="form-group">
                            <label for="pes_input_cep">CEP:</label>
                            <input type="number" class="form-control" v-model="$v.form_pessoa.cep.$model"
                                :class="status($v.form_pessoa.cep)" id="pes_input_cep">
                        </div>
                        <div class="form-group">
                            <h4>Complemento:</h4>
                            <input type="radio" id="casa" name="pes_input_complemento"
                                v-model="$v.form_pessoa.complemento.$model" :class="status($v.form_pessoa.complemento)"
                                value="casa">
                            <label for="casa">Casa</label>
                            <input type="radio" id="apartamento" name="pes_input_complemento"
                                v-model="$v.form_pessoa.complemento.$model" :class="status($v.form_pessoa.complemento)"
                                value="apartamento">
                            <label for="apartamento">Apartamento</label>

                        </div>
                        <div class="form-group">
                            <label for="pes_input_numero_celular">Numero de celular:</label>
                            <input type="number" class="form-control" v-model="$v.form_pessoa.numero_celular.$model"
                                :class="status($v.form_pessoa.numero_celular)" id="pes_input_numero_celular">
                        </div>

                        <div class="form-group">
                            <div class="error" v-if="!$v.form_pessoa.senha.required">Senha deve ter no mínimo
                                {{$v.form_pessoa.senha.$params.minLength.min}} caracteres.</div>

                            <label for="pes_input_senha">Senha:</label>
                            <input type="password" class="form-control" v-model="$v.form_pessoa.senha.$model"
                                :class="status($v.form_pessoa.senha)" @blur="markAsDirty($v.form_pessoa.senha)"
                                id="pes_input_senha">
                        </div>

                        <div id="inputContainer" class="form-group.hidden">
                            <label for="pes_input_ultima_visita">Data da última visita:</label>
                            <input type="date" class="form-control" v-model="$v.form_pessoa.ultima_visita.$model"
                                :class="status($v.form_pessoa.ultima_visita)" id="pes_input_ultima_visita">
                        </div>


                        <button @click="inserir_pessoa($v)" class="btn btn-primary" type="button">Salvar</button>
                        <button @click="limpar_form_pessoa()" class="btn btn-primary" type="button">Limpar</button>
                    </div>
                </div>
                <div id="menu_funcionario" class="tab-pane fade">
                    <h2>Funcionarios</h2>
                    <table id="tabela_funcionario" class="table table-striped">
                        <tr>
                            <th scope="col">Nome</th>
                            <th scope="col">CPF</th>
                            <th scope="col">RG</th>
                            <th scope="col">Data de nascimento</th>
                            <th scope="col">Celular</th>
                            <th scope="col">E-mail</th>
                            <th scope="col">Endereço</th>
                            <th scope="col">CEP</th>
                            <th scope="col">Complemento</th>
                            <th scope="col">Cargo</th>
                            <th scope="col">CTPS</th>
                            <th scope="col">PIS</th>
                            <th scope="col">Data de cadastro</th>
                            <th scope="col">Editar</th>
                            <th scope="col">Remover</th>
                        </tr>
                        <tbody>
                            <tr v-for="(f, indice) in funcionarios">
                                <td>{{f.nome}}</td>
                                <td>{{p.cpf}}</td>
                                <td>{{f.rg}}</td>
                                <td>{{p.data_nascimento}}</td>
                                <td>{{f.celular}}</td>
                                <td>{{p.email}}</td>
                                <td>{{p.endereco}}</td>
                                <td>{{p.cep}}</td>
                                <td>{{p.complemento}}</td>
                                <td>{{f.cargo}}</td>
                                <td>{{f.ctps}}</td>
                                <td>{{f.pis}}</td>
                                <td>{{f.data_cadastro}}</td>
                                <td><button v-on:click="edita_funcionario(indice)" class="btn"
                                        type="button">Editar</button></td>
                                <td><button v-on:click="remove_funcionario(indice, f.id)" class="btn"
                                        type="button">Remover</button></td>
                            </tr>
                        </tbody>
                    </table>

                    <div id="formulario_funcionario">
                        <h2>Formulário para cadastrar e alterar o cadastro de funcionários</h2>
                        <h3>Identificação Pessoal</h3>
                        <div class="error" v-if="!$v.form_funcionario.nome.required">Este campo é required</div>
                        <div class="form-group">
                            <label for="funci_input_nome">Nome:</label>
                            <input type="text" class="form-control" v-model="$v.form_funcionario.nome.$model"
                                :class="status($v.form_funcionario.nome)" @blur="markAsDirty($v.form_funcionario.nome)"
                                id="funci_input_nome">
                        </div>
                        <div class="error" v-if="!$v.form_funcionario.cpf.required">Este campo é required </div>
                        <div class="form-group">
                            <label for="funci_input_cpf">CPF:</label>
                            <input type="number" class="form-control" v-model="$v.form_funcionario.cpf.$model"
                                :class="status($v.form_funcionario.cpf)" @blur="markAsDirty($v.form_funcionario.cpf)"
                                id="funci_input_cpf">
                        </div>
                        <div class="error" v-if="!$v.form_funcionario.rg.required">Este campo é required </div>
                        <div class="form-group">
                            <label for="funci_input_rg">RG:</label>
                            <input type="number" class="form-control" v-model="$v.form_funcionario.rg.$model"
                                :class="status($v.form_funcionario.rg)" @blur="markAsDirty($v.form_funcionario.rg)"
                                id="funci_input_rg">
                        </div>
                        <div class="error" v-if="!$v.form_funcionario.data_nascimento.required">Este campo é required
                        </div>
                        <div class="form-group">
                            <label for="funci_input_data_nascimento">Data de nascimento:</label>
                            <input type="date" class="form-control" v-model="$v.form_funcionario.data_nascimento.$model"
                                :class="status($v.form_funcionario.data_nascimento)"
                                @blur="markAsDirty($v.form_funcionario.data_nascimento)"
                                id="funci_input_data_nascimento">
                        </div>
                        <h3>Contato</h3>
                        <div class="form-group">
                            <label for="funci_input_numero_celular">Numero de celular:</label>
                            <input type="number" class="form-control"
                                v-model="$v.form_funcionario.numero_celular.$model"
                                :class="status($v.form_funcionario.numero_celular)" id="funci_input_numero_celular">
                        </div>
                        <div class="form-group">
                            <label for="funci_input_email">E-mail:</label>
                            <input type="email" class="form-control" v-model="$v.form_funcionario.email.$model"
                                :class="status($v.form_funcionario.email)" id="funci_input_email">
                        </div>
                        <div class="form-group">
                            <label for="funci_input_endereco">Endereço:</label>
                            <input type="text" class="form-control" v-model="$v.form_funcionario.endereco.$model"
                                :class="status($v.form_funcionario.endereco)" id="funci_input_endereco">
                        </div>
                        <div class="form-group">
                            <label for="funci_input_cep">CEP:</label>
                            <input type="number" class="form-control" v-model="$v.form_funcionario.cep.$model"
                                :class="status($v.form_funcionario.cep)" id="funci_input_cep">
                        </div>
                        <div class="form-group">
                            <h4>Complemento:</h4>
                            <input type="radio" id="casa" name="funci_input_complemento"
                                v-model="$v.form_funcionario.complemento.$model"
                                :class="status($v.form_funcionario.complemento)" value="casa">
                            <label for="casa">Casa</label>
                            <input type="radio" id="apartamento" name="funci_input_complemento"
                                v-model="$v.form_funcionario.complemento.$model"
                                :class="status($v.form_funcionario.complemento)" value="apartamento">
                            <label for="apartamento">Apartamento</label>
                        </div>
                        <h3>Dados do emprego</h3>
                        <div class="error" v-if="!$v.form_funcionario.cargo.required">Este campo é required</div>
                        <div class="form-group">
                            <label for="funci_input_cargo">Cargo:</label>
                            <input type="text" class="form-control" v-model="$v.form_funcionario.cargo.$model"
                                :class="status($v.form_funcionario.cargo)"
                                @blur="markAsDirty($v.form_funcionario.cargo)" id="funci_input_cargo">
                        </div>
                        <div class="error" v-if="!$v.form_funcionario.ctps.required">Este campo é required </div>
                        <div class="form-group">
                            <label for="funci_input_ctps">CTPS:</label>
                            <input type="number" class="form-control" v-model="$v.form_funcionario.ctps.$model"
                                :class="status($v.form_funcionario.ctps)" @blur="markAsDirty($v.form_funcionario.ctps)"
                                id="funci_input_ctps">
                        </div>
                        <div class="error" v-if="!$v.form_funcionario.pis.required">Este campo é required </div>
                        <div class="form-group">
                            <label for="funci_input_pis">PIS:</label>
                            <input type="number" class="form-control" v-model="$v.form_funcionario.pis.$model"
                                :class="status($v.form_funcionario.pis)" @blur="markAsDirty($v.form_funcionario.pis)"
                                id="funci_input_pis">
                        </div>
                        <h3>Senha</h3>
                        <div class="form-group">
                            <div class="error" v-if="!$v.form_funcionario.senha.required">Senha deve ter no mínimo
                                {{$v.form_funcionario.senha.$params.minLength.min}} caracteres.</div>
                            <label for="funci_input_senha">Senha:</label>
                            <input type="password" class="form-control" v-model="$v.form_funcionario.senha.$model"
                                :class="status($v.form_funcionario.senha)"
                                @blur="markAsDirty($v.form_funcionario.senha)" id="funci_input_senha">
                        </div>
                        <button @click="inserir_funcionario($v)" class="btn btn-primary" type="button">Salvar</button>
                        <button @click="limpar_form_funcionario()" class="btn btn-primary" type="button">Limpar</button>
                    </div>
                </div>
                <div id="menu_cliente" class="tab-pane fade">
                    <h2>Clientes</h2>
                    <table id="tabela_cliente" class="table table-striped">
                        <thead>Nossos </thead>
                        <tr>
                            <th scope="col">CPF</th>
                            <th scope="col">Nome</th>
                            <th scope="col">RG</th>
                            <th scope="col">Data de nascimento</th>
                            <th scope="col">E-mail</th>
                            <th scope="col">Endereço</th>
                            <th scope="col">CEP</th>
                            <th scope="col">Complemento</th>
                            <th scope="col">Numero de celular</th>
                            <th scope="col">Data de cadastro</th>
                            <th scope="col">Última visita</th>
                            <th scope="col">Editar</th>
                            <th scope="col">Remover</th>

                        </tr>
                        <tbody>
                            <tr v-for="(c, indice) in clientes">
                                <td>{{c.cpf}}</td>
                                <td>{{c.nome}}</td>
                                <td>{{c.rg}}</td>
                                <td>{{c.data_nascimento}}</td>
                                <td>{{c.email}}</td>
                                <td>{{c.endereco}}</td>
                                <td>{{c.cep}}</td>
                                <td>{{c.complemento}}</td>
                                <td>{{c.numero_celular}}</td>
                                <td>{{c.data_cadastro}}</td>
                                <td>{{c.ultima_visita}}</td>
                                <td><button v-on:click="edita_cliente(indice)" class="btn" type="button">Editar</button>
                                </td>
                                <td><button v-on:click="remove_cliente(indice, c.id)" class="btn"
                                        type="button">Remover</button></td>
                            </tr>
                        </tbody>
                    </table>

                    <div id="formulario_cliente">
                        <h3>Formulário para cadastrar e alterar clientes</h3>

                        <div class="error" v-if="!$v.form_cliente.nome.required">Este campo é required </div>
                        <div class="form-group">
                            <label for="funci_input_nome">Nome:</label>
                            <input type="text" class="form-control" v-model="$v.form_cliente.nome.$model"
                                :class="status($v.form_cliente.nome)" @blur="markAsDirty($v.form_cliente.nome)"
                                id="funci_input_nome">
                        </div>
                        <div class="error" v-if="!$v.form_cliente.cpf.required">Este campo é required </div>
                        <div class="form-group">
                            <label for="funci_input_cpf">CPF:</label>
                            <input type="number" class="form-control" v-model="$v.form_cliente.cpf.$model"
                                :class="status($v.form_cliente.cpf)" @blur="markAsDirty($v.form_cliente.cpf)"
                                id="funci_input_cpf">
                        </div>
                        <div class="error" v-if="!$v.form_cliente.rg.required">Este campo é required </div>
                        <div class="form-group">
                            <label for="funci_input_rg">RG:</label>
                            <input type="number" class="form-control" v-model="$v.form_cliente.rg.$model"
                                :class="status($v.form_cliente.rg)" @blur="markAsDirty($v.form_cliente.rg)"
                                id="funci_input_rg">
                        </div>
                        <div class="error" v-if="!$v.form_cliente.data_nascimento.required">Este campo é required </div>
                        <div class="form-group">
                            <label for="funci_input_data_nascimento">Data de nascimento:</label>
                            <input type="date" class="form-control" v-model="$v.form_cliente.data_nascimento.$model"
                                :class="status($v.form_cliente.data_nascimento)"
                                @blur="markAsDirty($v.form_cliente.data_nascimento)" id="funci_input_data_nascimento">
                        </div>


                        <div class="form-group">
                            <label for="funci_input_email">Email:</label>
                            <input type="email" class="form-control" v-model="$v.form_cliente.email.$model"
                                :class="status($v.form_cliente.email)" id="funci_input_email">
                        </div>
                        <div class="form-group">
                            <label for="funci_input_endereco">Endereço:</label>
                            <input type="text" class="form-control" v-model="$v.form_cliente.endereco.$model"
                                :class="status($v.form_cliente.endereco)" id="funci_input_endereco">
                        </div>
                        <div class="form-group">
                            <label for="funci_input_cep">CEP:</label>
                            <input type="number" class="form-control" v-model="$v.form_cliente.cep.$model"
                                :class="status($v.form_cliente.cep)" id="funci_input_cep">
                        </div>
                        <div class="form-group">
                            <h4>Complemento:</h4>
                            <input type="radio" id="casa" name="funci_input_complemento"
                                v-model="$v.form_cliente.complemento.$model"
                                :class="status($v.form_cliente.complemento)" value="casa">
                            <label for="casa">Casa</label>
                            <input type="radio" id="apartamento" name="funci_input_complemento"
                                v-model="$v.form_cliente.complemento.$model"
                                :class="status($v.form_cliente.complemento)" value="apartamento">
                            <label for="apartamento">Apartamento</label>

                        </div>
                        <div class="form-group">
                            <label for="funci_input_numero_celular">Numero de celular:</label>
                            <input type="number" class="form-control" v-model="$v.form_cliente.numero_celular.$model"
                                :class="status($v.form_cliente.numero_celular)" id="funci_input_numero_celular">
                        </div>



                        <div id="inputContainer" class="form-group.hidden">
                            <label for="funci_input_ultima_visita">Data da última visita:</label>
                            <input type="date" class="form-control" v-model="$v.form_cliente.ultima_visita.$model"
                                :class="status($v.form_cliente.ultima_visita)" id="funci_input_ultima_visita">
                        </div>
                        <div class="form-group">
                            <div class="error" v-if="!$v.form_cliente.senha.required">Senha deve ter no mínimo
                                {{$v.form_cliente.senha.$params.minLength.min}} caracteres.</div>

                            <label for="funci_input_senha">Senha:</label>
                            <input type="password" class="form-control" v-model="$v.form_cliente.senha.$model"
                                :class="status($v.form_cliente.senha)" @blur="markAsDirty($v.form_cliente.senha)"
                                id="funci_input_senha">
                        </div>

                        <button @click="inserir_cliente($v)" class="btn btn-primary" type="button">Salvar</button>
                        <button @click="limpar_form_cliente()" class="btn btn-primary" type="button">Limpar</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>


</body>
<style>
    body {
        padding: 5%;
        background-color: rgb(255, 255, 255);
    }

    input {
        border: 1px solid silver;
        border-radius: 4px;
        background: white;
        padding: 5px 10px;
    }

    .dirty {
        border-color: #5A5;
        background: #EFE;
    }

    .dirty:focus {
        outline-color: rgb(5, 248, 5);
    }

    .error {
        border-color: red;
        background: #FDD;
    }

    .error:focus {
        outline-color: #F99;
    }

    th {
        width: max-content;
    }

    th[scope="col"] {
        background-color: #bd1c1c;
    }

    .hidden {
        display: none;
    }
</style>

</html>